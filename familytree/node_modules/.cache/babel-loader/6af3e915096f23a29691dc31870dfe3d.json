{"ast":null,"code":"var _jsxFileName = \"C:\\\\Personal\\\\ft\\\\familytree\\\\UI\\\\familytree\\\\src\\\\components\\\\Admin.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import { withRouter } from 'react-router-dom';\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n//import { faAddressCard, faEdit, faPlus, faCopy } from '@fortawesome/free-solid-svg-icons'\n\nclass Admin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchMembers = () => {\n      axios.get(\"\".concat(this.state.backendUrl)).then(response => {\n        console.log(response.data);\n        this.setState({\n          members: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.fetchAddress = () => {\n      axios.get(\"\".concat(this.state.backendUrl, \"member/\").concat(this.state.fromMember.id, \"/address\")).then(response => {\n        console.log(response.data);\n\n        if (null != response.data && \"\" !== response.data) {\n          this.setState({\n            fromMemberAddress: response.data\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.fromMemberChangeHandler = event => {\n      if (\"NA\" === event.target.value) {\n        this.setState({\n          fromMember: {},\n          fromMemberAddress: {},\n          toMember: {},\n          toMembers: []\n        });\n      } else {\n        this.setState({\n          fromMember: this.state.members[event.target.value],\n          fromMemberAddress: {},\n          toMember: {},\n          toMembers: []\n        }, () => {\n          this.fetchAddress();\n        });\n      }\n    };\n\n    this.toMemberChangeHandler = event => {\n      if (\"NA\" === event.target.value) {\n        this.setState({\n          toMember: {}\n        });\n      } else {\n        this.setState({\n          toMember: this.state.members[event.target.value]\n        });\n      }\n    };\n\n    this.pushToMembers = () => {\n      if (this.state.toMembers === undefined) {\n        return;\n      }\n\n      if (this.state.fromMember.id === this.state.toMember.id) {\n        return;\n      }\n\n      let toMembers = new Set(this.state.toMembers);\n      toMembers.add(this.state.toMember);\n      this.setState(prevState => ({\n        toMembers: Array.from(toMembers)\n      }));\n    };\n\n    this.copyAddress = () => {\n      const toMembers = this.state.toMembers;\n      axios.post(\"\".concat(this.state.backendUrl, \"member\"), toMembers).then(console.log(\"success\")).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      members: [],\n      fromMember: {},\n      fromMemberAddress: {},\n      toMember: {},\n      toMembers: [],\n      backendUrl: \"http://localhost:8093/familytree/\"\n    };\n  }\n\n  componentDidMount() {\n    this.fetchMembers();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"page-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Welcome Ravi..\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        padding: 1 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"From Member\"), React.createElement(\"select\", {\n      style: {\n        width: 20 + 'em'\n      },\n      className: \"form-entity\",\n      name: \"fromMember\",\n      onChange: this.fromMemberChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"NA\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Not Defined\"), this.state.members.map((member, index) => React.createElement(\"option\", {\n      key: index,\n      value: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, member.firstName, \" \", member.lastName)))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.state.fromMemberAddress.id ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, this.state.fromMemberAddress.line1 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Line 1 : \"), this.state.fromMemberAddress.line1) : '', this.state.fromMemberAddress.line2 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Line 2 : \"), this.state.fromMemberAddress.line2) : '', React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.state.fromMemberAddress.city ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"City : \"), this.state.fromMemberAddress.city) : '', this.state.fromMemberAddress.taluka ? React.createElement(\"span\", {\n      style: {\n        padding: 1 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Taluka : \"), this.state.fromMemberAddress.taluka) : ''), this.state.fromMemberAddress.district ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"District : \"), this.state.fromMemberAddress.district) : '', this.state.fromMemberAddress.state ? React.createElement(\"span\", {\n      style: {\n        padding: 1 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"State : \"), this.state.fromMemberAddress.state) : ''), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Select Members to copy this address\", React.createElement(\"select\", {\n      style: {\n        width: 20 + 'em'\n      },\n      className: \"form-entity\",\n      name: \"toMember\",\n      onChange: this.toMemberChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"NA\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Not Defined\"), this.state.members.map((member, index) => React.createElement(\"option\", {\n      key: index,\n      value: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, member.firstName, \" \", member.lastName))), React.createElement(\"input\", {\n      style: {\n        width: 10 + 'rem'\n      },\n      type: \"button\",\n      value: \"ADD\",\n      onClick: this.pushToMembers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, this.state.toMembers.map(member => React.createElement(\"div\", {\n      key: member.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, member.firstName, \" \", member.lastName))), React.createElement(\"input\", {\n      style: {\n        width: 10 + 'rem'\n      },\n      type: \"button\",\n      value: \"ADD\",\n      onClick: this.copyAddress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, this.state.fromMember.id ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Address of \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.fromMember.firstName)), \" is not defined, Please select different member\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Please select member\")))));\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:\\Personal\\ft\\familytree\\UI\\familytree\\src\\components\\Admin.js"],"names":["React","Component","axios","Admin","constructor","props","fetchMembers","get","state","backendUrl","then","response","console","log","data","setState","members","catch","error","fetchAddress","fromMember","id","fromMemberAddress","fromMemberChangeHandler","event","target","value","toMember","toMembers","toMemberChangeHandler","pushToMembers","undefined","Set","add","prevState","Array","from","copyAddress","post","componentDidMount","render","padding","width","map","member","index","firstName","lastName","line1","line2","city","taluka","district"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n// import { withRouter } from 'react-router-dom';\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n//import { faAddressCard, faEdit, faPlus, faCopy } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass Admin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            members : [],\r\n            fromMember : {},\r\n            fromMemberAddress : {},\r\n            toMember :{},\r\n            toMembers :[],\r\n            backendUrl : \"http://localhost:8093/familytree/\"\r\n        }\r\n    }\r\n\r\n    fetchMembers = () => {\r\n        axios.get(`${this.state.backendUrl}`)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            this.setState({members:response.data})\r\n          }).catch(error =>{\r\n              console.log(error);\r\n          });\r\n      }\r\n\r\n      fetchAddress = () => {\r\n        axios.get(`${this.state.backendUrl}member/${this.state.fromMember.id}/address`)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            if(null != response.data && \"\"!== response.data){\r\n                this.setState({fromMemberAddress:response.data})\r\n            }\r\n          }).catch(error =>{\r\n              console.log(error);\r\n          });\r\n    }\r\n\r\n      componentDidMount() {\r\n        this.fetchMembers();\r\n      };\r\n\r\n      fromMemberChangeHandler = (event) => {\r\n        if(\"NA\" === event.target.value){\r\n            this.setState({\r\n                fromMember : {},\r\n                fromMemberAddress : {},\r\n                toMember:{},\r\n                toMembers:[] \r\n            });\r\n        }else{\r\n            this.setState({\r\n                fromMember : this.state.members[event.target.value],\r\n                fromMemberAddress : {},\r\n                toMember:{},\r\n                toMembers:[]\r\n            }, () => {this.fetchAddress()});\r\n        }\r\n    }\r\n\r\n    toMemberChangeHandler = (event) => {\r\n        if(\"NA\" === event.target.value){\r\n            this.setState({\r\n                toMember : {}\r\n            });\r\n        }else{\r\n            this.setState({\r\n                toMember : this.state.members[event.target.value]\r\n            });\r\n        }\r\n    }\r\n\r\n    pushToMembers = () => {\r\n        if (this.state.toMembers === undefined) \r\n        {\r\n            return\r\n        }\r\n        if (this.state.fromMember.id === this.state.toMember.id)\r\n        {\r\n            return\r\n        }\r\n          let toMembers = new Set(this.state.toMembers)\r\n          toMembers.add(this.state.toMember)\r\n        this.setState(prevState => ({\r\n            toMembers: Array.from(toMembers)\r\n          }))\r\n    }\r\n\r\n    copyAddress = () => {\r\n        const { toMembers } = this.state\r\n        axios.post(`${this.state.backendUrl}member`,toMembers )\r\n            .then(\r\n                console.log(\"success\")\r\n            ).catch(error =>{\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page-style\">\r\n                <h3>Welcome Ravi..</h3>\r\n                <div>\r\n                    <div>\r\n                        <label style={{padding: 1 + 'em'}}>From Member</label>\r\n                        <select style={{width: 20 + 'em'}} className=\"form-entity\" name=\"fromMember\" \r\n                                onChange={this.fromMemberChangeHandler}>\r\n                            <option  value='NA'>Not Defined</option>\r\n                            {this.state.members.map((member, index) => (\r\n                                <option key={index} value={index}>{member.firstName} {member.lastName}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        {this.state.fromMemberAddress.id ? \r\n                                <div>\r\n                                    <div>\r\n                                        {this.state.fromMemberAddress.line1 ? \r\n                                            <div><label>Line 1 : </label>{ this.state.fromMemberAddress.line1 }</div> \r\n                                        : ''}\r\n                                        {this.state.fromMemberAddress.line2 ? \r\n                                            <div><label>Line 2 : </label>{ this.state.fromMemberAddress.line2 }</div> \r\n                                        : ''}\r\n                                        <div>\r\n                                        {this.state.fromMemberAddress.city ? \r\n                                            <span><label>City : </label>{ this.state.fromMemberAddress.city }</span> \r\n                                        : ''}\r\n                                        {this.state.fromMemberAddress.taluka ? \r\n                                            <span style={{padding: 1 + 'em'}}><label>Taluka : </label>{ this.state.fromMemberAddress.taluka }</span> \r\n                                        : ''}\r\n                                        </div>\r\n                                        {this.state.fromMemberAddress.district ? \r\n                                            <span><label>District : </label>{ this.state.fromMemberAddress.district }</span> \r\n                                        : ''}\r\n                                        {this.state.fromMemberAddress.state ? \r\n                                            <span style={{padding: 1 + 'em'}}><label>State : </label>{ this.state.fromMemberAddress.state }</span> \r\n                                        : ''}\r\n                                    </div>\r\n                                    <div>\r\n                                        Select Members to copy this address\r\n                                        <select style={{width: 20 + 'em'}} className=\"form-entity\" name=\"toMember\" \r\n                                                onChange={this.toMemberChangeHandler}>\r\n                                            <option  value='NA'>Not Defined</option>\r\n                                            {this.state.members.map((member, index) => (\r\n                                                <option key={index} value={index}>{member.firstName} {member.lastName}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input style={{width : 10 + 'rem'}} type=\"button\" value=\"ADD\" onClick={this.pushToMembers}></input>\r\n                                    </div>\r\n                                    <div>\r\n                                    {\r\n                                        this.state.toMembers.map(member => (\r\n                                            <div key = {member.id}>{member.firstName} {member.lastName}</div>\r\n                                        ))\r\n                                    }\r\n                                    </div>\r\n                                    <input style={{width : 10 + 'rem'}} type=\"button\" value=\"ADD\" onClick={this.copyAddress}></input>\r\n                                </div>\r\n                                :\r\n                                <div> \r\n                                    {this.state.fromMember.id ? \r\n                                    <div>Address of <b><i>{this.state.fromMember.firstName}</i></b> is not defined, Please select different member</div> \r\n                                    : \r\n                                    <div>Please select member</div>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Admin\r\n"]},"metadata":{},"sourceType":"module"}